Chart.defaults.backgroundColor = '#ffffff';
Chart.defaults.borderColor = '#cccccc';
Chart.defaults.color = '#000000';

let data = [
    {"x":1,"y":-1},{"x":2,"y":-3},{"x":3,"y":-6},{"x":4,"y":-7},{"x":5,"y":-10},{"x":6,"y":-13},{"x":7,"y":-4.5},{"x":8,"y":2.6},{"x":9,"y":-0.4},{"x":10,"y":4.7},{"x":11,"y":15.4},{"x":12,"y":16.1},{"x":13,"y":6.2},{"x":14,"y":4.9},{"x":15,"y":-2.9},{"x":16,"y":-22.9},{"x":17,"y":-23.8},{"x":18,"y":-32},{"x":19,"y":-25},{"x":20,"y":-44.2},{"x":21,"y":-53.7},{"x":22,"y":-61.3},{"x":23,"y":-47.3},{"x":24,"y":-48.3},{"x":25,"y":-39.5},{"x":26,"y":-39.6},{"x":27,"y":-43.3},{"x":28,"y":-48.1},{"x":29,"y":-71.1},{"x":30,"y":-78.8},{"x":31,"y":-72.6},{"x":32,"y":-69.4},{"x":33,"y":-78.7},{"x":34,"y":-85.7},{"x":35,"y":-89.8},{"x":36,"y":-95.6},{"x":37,"y":-97.8},{"x":38,"y":-94.7},{"x":39,"y":-95.7},{"x":40,"y":-89.9},{"x":41,"y":-92.3},{"x":42,"y":-88.6},{"x":43,"y":-96.7},{"x":44,"y":-105.9},{"x":45,"y":-129.9},{"x":46,"y":-125.8},{"x":47,"y":-128.8},{"x":48,"y":-122.2},{"x":49,"y":-120.2},{"x":50,"y":-132.6},{"x":51,"y":-127.8},{"x":52,"y":-133.2},{"x":53,"y":-139.3},{"x":54,"y":-132.8},{"x":55,"y":-130.3},{"x":56,"y":-122.8},{"x":57,"y":-113.9},{"x":58,"y":-121.9},{"x":59,"y":-114.2},{"x":60,"y":-112.6},{"x":61,"y":-114.1},{"x":62,"y":-108.3},{"x":63,"y":-118.6},{"x":64,"y":-117.1},{"x":65,"y":-126.4},{"x":66,"y":-132},{"x":67,"y":-151.9},{"x":68,"y":-157.6},{"x":69,"y":-152.7},{"x":70,"y":-172.9},{"x":71,"y":-182.5},{"x":72,"y":-182.1},{"x":73,"y":-168.9},{"x":74,"y":-178.6},{"x":75,"y":-188.2},{"x":76,"y":-187.5},{"x":77,"y":-186.3},{"x":78,"y":-179.6},{"x":79,"y":-188.4},{"x":80,"y":-187.1},{"x":81,"y":-191.4},{"x":82,"y":-204.6},{"x":83,"y":-206.3},{"x":84,"y":-196},{"x":85,"y":-201.9},{"x":86,"y":-191.5},{"x":87,"y":-183.8},{"x":88,"y":-177},{"x":89,"y":-180.6},{"x":90,"y":-173.6},{"x":91,"y":-175.6},{"x":92,"y":-171.3},{"x":93,"y":-168.9},{"x":94,"y":-171},{"x":95,"y":-178.6},{"x":96,"y":-169},{"x":97,"y":-172},{"x":98,"y":-165.5},{"x":99,"y":-153.5},{"x":100,"y":-155.3},{"x":101,"y":-141.5},{"x":102,"y":-121.7},{"x":103,"y":-126.4},{"x":104,"y":-109.8},{"x":105,"y":-110.7},{"x":106,"y":-102.7},{"x":107,"y":-95.1},{"x":108,"y":-85.2},{"x":109,"y":-80.9},{"x":110,"y":-45.1},{"x":111,"y":-18.5},{"x":112,"y":-21.8},{"x":113,"y":-18.6},{"x":114,"y":-30.9},{"x":115,"y":-32.2},{"x":116,"y":-22.2},{"x":117,"y":-27.8},{"x":118,"y":-25},{"x":119,"y":-35.8},{"x":120,"y":-38.7},{"x":121,"y":-54.7},{"x":122,"y":-66.3},{"x":123,"y":-75.8},{"x":124,"y":-70.1},{"x":125,"y":-85},{"x":126,"y":-111.6},{"x":127,"y":-107.5},{"x":128,"y":-103.8},{"x":129,"y":-106.2},{"x":130,"y":-105.6},{"x":131,"y":-128.1},{"x":132,"y":-125.8},{"x":133,"y":-124.4},{"x":134,"y":-122.7},{"x":135,"y":-120.2},{"x":136,"y":-104.1},{"x":137,"y":-101},{"x":138,"y":-111.7},{"x":139,"y":-101.2},{"x":140,"y":-92.6},{"x":141,"y":-88.2},{"x":142,"y":-97.2},{"x":143,"y":-108.9},{"x":144,"y":-119.7},{"x":145,"y":-142.3},{"x":146,"y":-133.7},{"x":147,"y":-137.8},{"x":148,"y":-141.2},{"x":149,"y":-169.7},{"x":150,"y":-160},{"x":151,"y":-145.3},{"x":152,"y":-139.3},{"x":153,"y":-113.4},{"x":154,"y":-87.1},{"x":155,"y":-90.2},{"x":156,"y":-92},{"x":157,"y":-80.1},{"x":158,"y":-83.2},{"x":159,"y":-87.1},{"x":160,"y":-108.5},{"x":161,"y":-108},{"x":162,"y":-110.9},{"x":163,"y":-104.3},{"x":164,"y":-91.2},{"x":165,"y":-105.4},{"x":166,"y":-114.5},{"x":167,"y":-100.4},{"x":168,"y":-69.1},{"x":169,"y":-51.1},{"x":170,"y":-73.9},{"x":171,"y":-75.7},{"x":172,"y":-77.9},{"x":173,"y":-114.4},{"x":174,"y":-110.7},{"x":175,"y":-109.3},{"x":176,"y":-97.7},{"x":177,"y":-114.9},{"x":178,"y":-94.9},{"x":179,"y":-85.9},{"x":180,"y":-112.8},{"x":181,"y":-112.1},{"x":182,"y":-109},{"x":183,"y":-85.2},{"x":184,"y":-40.5},{"x":185,"y":-40},{"x":186,"y":-20.1},{"x":187,"y":-13.8},{"x":188,"y":-14.3},{"x":189,"y":-23.9},{"x":190,"y":-14},{"x":191,"y":2.4},{"x":192,"y":1.3},{"x":193,"y":-11.6},{"x":194,"y":16.7},{"x":195,"y":10.9},{"x":196,"y":10.3},{"x":197,"y":-10.7},{"x":198,"y":-47.5},{"x":199,"y":-16.5},{"x":200,"y":12.4},{"x":201,"y":30.2},{"x":202,"y":31.5},{"x":203,"y":42.4},{"x":204,"y":29.1},{"x":205,"y":32.1},{"x":206,"y":24.6},{"x":207,"y":42.8},{"x":208,"y":51.2},{"x":209,"y":51.3},{"x":211,"y":22.6},{"x":211,"y":-3},{"x":213,"y":12.9},{"x":213,"y":-8.2},{"x":215,"y":-13.4},{"x":215,"y":-44.8},{"x":217,"y":-25.8},{"x":217,"y":-8.2},{"x":219,"y":-11.1},{"x":219,"y":-32.7},{"x":221,"y":-25.2},{"x":221,"y":-32.9},{"x":223,"y":-33.5},{"x":223,"y":-39.1},{"x":225,"y":-50.3},{"x":225,"y":-48.9},{"x":227,"y":-48.2},{"x":227,"y":-51.7},{"x":229,"y":-48.8},{"x":229,"y":-65.9},{"x":230,"y":-90.1},{"x":231,"y":-74.6},{"x":232,"y":-57.1},{"x":233,"y":-66},{"x":234,"y":-93.9},{"x":235,"y":-94.2},{"x":236,"y":-89.5},{"x":237,"y":-64.7},{"x":238,"y":-64.4},{"x":239,"y":-55.3},{"x":240,"y":-74.3},{"x":241,"y":-88.5},{"x":242,"y":-80.8},{"x":243,"y":-80.9},{"x":244,"y":-80.1},{"x":245,"y":-78.5},{"x":246,"y":-98.8},{"x":247,"y":-95.6},{"x":248,"y":-81.3},{"x":249,"y":-85.3},{"x":250,"y":-76.4},{"x":251,"y":-63},{"x":252,"y":-49.9},{"x":253,"y":-61.6},{"x":254,"y":-73.6},{"x":255,"y":-78.8},{"x":256,"y":-88.3},{"x":257,"y":-82.8},{"x":258,"y":-93.4},{"x":259,"y":-90.3},{"x":260,"y":-95.8},{"x":261,"y":-89.3},{"x":262,"y":-86},{"x":263,"y":-76.3},{"x":264,"y":-70.2},{"x":265,"y":-64.3},{"x":266,"y":-62},{"x":267,"y":-55.5},{"x":268,"y":-49.3},{"x":269,"y":-42.9},{"x":270,"y":-46.4},{"x":271,"y":-49.4},{"x":272,"y":-50.4},{"x":273,"y":-51.4},{"x":274,"y":-51.4},{"x":275,"y":-54.4},{"x":276,"y":-56.4},{"x":277,"y":-59.4},{"x":278,"y":-61.4},{"x":279,"y":-62.4},{"x":280,"y":-65.4},{"x":281,"y":-69.4},{"x":282,"y":-70.4},{"x":283,"y":-71.4},{"x":284,"y":-73.4},{"x":285,"y":-73.4},{"x":286,"y":-73.4},{"x":287,"y":-73.4},{"x":288,"y":-73.4},{"x":289,"y":-74.4},{"x":290,"y":-74.4},{"x":291,"y":-74.4},{"x":292,"y":-75.4},{"x":293,"y":-75.4},{"x":294,"y":-75.4},{"x":295,"y":-75.4},{"x":296,"y":-75.4},{"x":297,"y":-75.4},{"x":298,"y":-76.4},{"x":299,"y":-76.4},{"x":300,"y":-76.4},{"x":301,"y":-76.4},{"x":302,"y":-76.4},{"x":303,"y":-76.4},{"x":304,"y":-76.4},{"x":305,"y":-76.4},{"x":306,"y":-76.4},{"x":307,"y":-76.4},{"x":308,"y":-76.4},{"x":309,"y":-76.4},{"x":310,"y":-76.4},{"x":311,"y":-76.4},{"x":312,"y":-76.4},{"x":313,"y":-77.4},{"x":314,"y":-77.4},{"x":315,"y":-77.4},{"x":316,"y":-77.4},{"x":317,"y":-77.4},{"x":318,"y":-77.4},{"x":319,"y":-77.4},{"x":320,"y":-77.4},{"x":321,"y":-77.4},{"x":322,"y":-77.4},{"x":323,"y":-77.4},{"x":324,"y":-77.4},{"x":325,"y":-78.4},{"x":326,"y":-78.4},{"x":327,"y":-78.4},{"x":328,"y":-78.4},{"x":329,"y":-78.4},{"x":330,"y":-78.4},{"x":331,"y":-78.4},{"x":332,"y":-78.4},{"x":333,"y":-78.4},{"x":334,"y":-78.4},{"x":335,"y":-78.4},{"x":336,"y":-78.4},{"x":337,"y":-78.4},{"x":338,"y":-78.4},{"x":339,"y":-78.4},{"x":340,"y":-78.4},{"x":341,"y":-78.4},{"x":342,"y":-78.4},{"x":343,"y":-78.4},{"x":344,"y":-78.4},{"x":345,"y":-78.4},{"x":346,"y":-78.4},{"x":347,"y":-78.4},{"x":348,"y":-78.4}
]

const config = {
    type: 'line',
    data: {
        datasets: [{
            type: 'line',
            label: 'Dataset 1',
            borderColor: 'rgb(54, 162, 235)',
            borderWidth: 2,
            fill: false,
            data: data,
            lables : [
                1.02,1.03,1.04,1.05,1.06,1.07,1.08,1.09,1.1,1.11,1.12,1.13,1.14,1.15,1.16,1.17,1.18,1.19,1.2,1.21,1.22,1.23,1.24,1.25,1.26,1.27,1.28,1.29,1.3,1.31,1.32,1.33,1.34,1.35,1.36,1.37,1.38,1.39,1.4,1.41,1.42,1.43,1.44,1.45,1.46,1.47,1.48,1.49,1.5,1.51,1.52,1.53,1.54,1.55,1.56,1.57,1.58,1.59,1.6,1.61,1.62,1.63,1.64,1.65,1.66,1.67,1.68,1.69,1.7,1.71,1.72,1.73,1.74,1.75,1.76,1.77,1.78,1.79,1.8,1.81,1.82,1.83,1.84,1.85,1.86,1.87,1.88,1.89,1.9,1.91,1.92,1.93,1.94,1.95,1.96,1.97,1.98,1.99,2,2.02,2.04,2.06,2.08,2.1,2.12,2.14,2.16,2.18,2.2,2.22,2.24,2.26,2.28,2.3,2.32,2.34,2.36,2.38,2.4,2.42,2.44,2.46,2.48,2.5,2.52,2.54,2.56,2.58,2.6,2.62,2.64,2.66,2.68,2.7,2.72,2.74,2.76,2.78,2.8,2.82,2.84,2.86,2.88,2.9,2.92,2.94,2.96,2.98,3,3.05,3.1,3.15,3.2,3.25,3.3,3.35,3.4,3.45,3.5,3.55,3.6,3.65,3.7,3.75,3.8,3.85,3.9,3.95,4,4.1,4.2,4.3,4.4,4.5,4.6,4.7,4.8,4.9,5,5.1,5.2,5.3,5.4,5.5,5.6,5.7,5.8,5.9,6,6.2,6.4,6.6,6.8,7,7.2,7.4,7.6,7.8,8,8.2,8.4,8.6,8.8,9,9.2,9.4,9.6,9.8,10,11,11,12,12,13,13,14,14,15,15,16,16,17,17,18,18,19,19,20,20,21,22,23,24,25,26,27,28,29,30,32,34,36,38,40,42,44,46,48,50,55,60,65,70,75,80,85,90,95,100,110,120,130,140,150,160,170,180,190,200,210,220,230,240,250,260,270,280,290,300,310,320,330,340,350,360,370,380,390,400,410,420,430,440,450,460,470,480,490,500,510,520,530,540,550,560,570,580,590,600,610,620,630,640,650,660,670,680,690,700,710,720,730,740,750,760,770,780,790,800,810,820,830,840,850,860,870,880,890,900,910,920,930,940,950,960,970,980,990,1001
            ]
        }]
    },
    options: {
        responsive: true,
        maintainAspectRatio: false,
        scales: {
            y: {
                type: 'linear',
                ticks: {
                    font: {
                        size: 14,
                        family: "Montserrat"
                    },
                    callback: (value, index, ticks) => {
                        return Math.round(value)
                    }
                }
            },
            x: {
                type: 'linear',
                ticks: {
                    autoSkip: false,
                    stepSize: 10, // data.length / ?, // Base on number of data points. - in the x range defined. Set in zoomer function. Needs to be 0.1, 1, 10 etc
                    font: {
                        size: 14,
                        family: "Montserrat"
                    },
                    minRotation: 45,
                    maxRotation: 45,
                    callback: (value, index, ticks) => {
                       value = Math.round(value * 10) / 10 // depends on stepSize?

                        // value is the x value
                        // ticks needs to convert back to the actual label 

                       return index == 0 || index == ticks.length - 1 || Number.isInteger(value) ? config.data.datasets[0].lables[ticks[index].value] : null
                   }
                }
            }
        },
        plugins: {
            legend: {
                display: false
            },
        }
    }
};

let chart = new Chart(document.getElementById("chart"), config);
add_zoom_chart(document.getElementById("chart_zoom"), chart, config);